
<script>
    
    $("#otpbtn").click(function() {
        console.log("button clicked")
        let email = $("#email").val()
        let csr = $("input[name=csrfmiddlewaretoken]").val()
        if (email == ""){
            console.log("pleace enter a valied email")
            $("#statusmsg").text("pleace enter a valied email")
        }
        else{
            data = {email:email,csrfmiddlewaretoken:csr}
            $.ajax({
                url: "{% url 'otpgenerator' %}",
                method: "POST",
                data:data,
                success: function(data) {
                    console.log(data.status)
                    $("#statusmsg").text(data.status)
                    
                }

            })
        }
            
    })

    $(".wishbtn").click(function(event) {
        event.preventDefault();
        console.log("whish btn clicked")
        let category_id = $(this).data('id');
        data = {category_id:category_id, csrfmiddlewaretoken: '{{ csrf_token }}'}

        $.ajax({
            url: "{% url 'addtowishlist' %}",
            method: "POST",
            data:data,
            success: function(data) {
                console.log("sucsess")
                console.log(data.status)
            }

        })
    })

    $(".addtocartbtn").click(function() {
        console.log("add to cart btn clicked")
        let category_id = $(this).data('id')
        data = {category_id:category_id, csrfmiddlewaretoken: '{{ csrf_token }}'}
        console.log(category_id)
        $.ajax({
            url: "{% url 'addtocart' %}",
            method: "POST",
            data:data,
            success: function(data) {
                console.log("sucsess")
                console.log(data.status)
                toastr.success("Record Updated", "good" ,{timeOut: 500} )
                
            }

        })
    })

    $("#userinfobtn").click(function(){
        console.log("user info button clicked")
        let first_name = $("#userinfo_first_name").val()
        let last_name = $("#userinfo_last_name").val()
        let contact_number = $("#userinfo_contact_number").val()
        let gender = $("#userinfo_gender").val()
        data = {first_name:first_name, last_name:last_name, gender:gender, contact_number:contact_number, csrfmiddlewaretoken: '{{ csrf_token }}'}

        $.ajax({
            url: "{% url 'user' %}",
            method: "POST",
            data:data,
            success: function(data) {
                console.log("sucsess")
                console.log(data.status)
            }

        })
        
        
    })

    $(".remove_addressbtn").click(function() {
        console.log("address delete button")
        let address_id = $(this).val()
        console.log(address_id)
        data = {address_id:address_id,csrfmiddlewaretoken: '{{ csrf_token }}'}

        $.ajax({
            url: "{% url 'deleteaddress' %}",
            method: "POST",
            data:data,
            success: function(data) {
                console.log("sucsess")
                console.log(data.status)
            }
        })
    })
    

    $(".count_down").on('click', function() {
        console.log("count down btn")
        let input = $(this).siblings('.quantity_evnt').val()
        $(this).siblings('.quantity_evnt').val(parseInt(input)-1).trigger('change')
        
        
    })

    $(".count_up").on('click', function() {
        console.log("coumt up")
        let input = $(this).siblings('.quantity_evnt').val()
        $(this).siblings('.quantity_evnt').val(parseInt(input)+1).trigger('change')
    })
    





    

    
  

    
</script>
